CREATE TABLE iv_test (id INT PRIMARY KEY AUTO_INCREMENT, val INT, INDEX idx_val (val));
INSERT INTO iv_test SET val=FLOOR(RAND()*100);
---
※計50行分実行する。
---
SELECT * FROM iv_test ORDER BY id;
EXPLAIN SELECT * FROM iv_test WHERE val BETWEEN 40 AND 59;
ALTER TABLE iv_test ALTER INDEX idx_val INVISIBLE;
EXPLAIN SELECT * FROM iv_test WHERE val BETWEEN 40 AND 59;
SET optimizer_switch=’index_merge=on,index_merge_union=on,index_merge_sort_union=on,index_merge_intersection=on,engine_condition_pushdown=on,index_condition_pushdown=on,mrr=on,mrr_cost_based=on,block_nested_loop=on,batched_key_access=off,materialization=on,semijoin=on,loosescan=on,firstmatch=on,duplicateweedout=on,subquery_materialization_cost_based=on,use_index_extensions=on,condition_fanout_filter=on,derived_merge=on,use_invisible_indexes=on,skip_scan=on’;
EXPLAIN SELECT * FROM iv_test WHERE val BETWEEN 40 AND 59;